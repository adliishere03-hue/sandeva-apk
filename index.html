<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>DigitalOcean VPS Panel - Sandeva</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- BACKGROUND ANIME 3D -->
<div class="bg-wrap" id="bg">
  <div class="layer bg1" data-depth="12"></div>
  <div class="layer bg2" data-depth="6"></div>
  <div class="layer particles" data-depth="25" id="particles"></div>
</div>

<!-- MAIN APP -->
<div class="app">

  <header class="app-header">
    <div>
      <h1>DigitalOcean VPS Panel</h1>
      <p class="subtitle">Sandeva Anime 3D Edition</p>
    </div>
    <div class="badge">DO API v2</div>
  </header>

  <!-- TOKEN & ACCOUNT -->
  <section class="card token-card">
    <div class="token-left">
      <label for="token">API Token DigitalOcean</label>
      <div class="token-row">
        <input id="token" type="password" placeholder="Masukkan personal access token...">
        <button id="save-token">Simpan</button>
      </div>
      <label class="remember-label">
        <input type="checkbox" id="remember-token" checked>
        Simpan token di browser (localStorage)
      </label>
    </div>
    <div class="token-right">
      <div class="account-title">Informasi Akun</div>
      <div id="account-info" class="account-info">
        Belum terhubung ke API.
      </div>
    </div>
  </section>

  <!-- TABS -->
  <nav class="tabs">
    <button class="tab-btn active" data-tab="tab-create">Buat VPS</button>
    <button class="tab-btn" data-tab="tab-droplets">Manage Droplet</button>
    <button class="tab-btn" data-tab="tab-account">Account & Explorer</button>
  </nav>

  <!-- TAB: CREATE -->
  <section id="tab-create" class="tab active">
    <div class="card">
      <h2>Buat Droplet Baru</h2>
      <p class="hint">
        Pilih Region, OS, Version, dan CPU Options. Data akan di-load otomatis dari API
        jika token valid.
      </p>

      <div class="grid-2">
        <!-- KOLOM KIRI -->
        <div>
          <div class="field-group">
            <label for="droplet-name">Nama VPS</label>
            <input id="droplet-name" type="text" placeholder="contoh: sandeva-vps-1">
          </div>

          <div class="field-group">
            <label for="region">Pilih Region</label>
            <select id="region">
              <option value="">Loading dari API...</option>
            </select>
          </div>

          <div class="field-group">
            <label for="size">Pilih CPU Options</label>
            <select id="size">
              <option value="">Loading dari API...</option>
            </select>
            <small class="muted">
              Berisi kombinasi RAM / vCPU dari <code>/v2/sizes</code>.
            </small>
          </div>
        </div>

        <!-- KOLOM KANAN -->
        <div>
          <div class="field-group">
            <label for="os-select">Pilih OS</label>
            <select id="os-select">
              <option value="">Loading dari API...</option>
            </select>
          </div>

          <div class="field-group">
            <label for="version-select">Pilih Version</label>
            <select id="version-select">
              <option value="">Pilih OS dulu...</option>
            </select>
            <small class="muted">
              Version adalah image / release spesifik dari OS (data dari <code>/v2/images</code>).
            </small>
          </div>

          <div class="field-group">
            <label>Metode Login</label>
            <div class="auth-row">
              <label>
                <input type="radio" name="auth-method" value="ssh" id="auth-ssh-radio" checked>
                SSH Key (disarankan)
              </label>
              <label>
                <input type="radio" name="auth-method" value="password" id="auth-password-radio">
                Password root
              </label>
            </div>
          </div>

          <!-- MODE SSH KEY -->
          <div class="field-group" id="auth-ssh">
            <label for="ssh-select">Pilih SSH Key</label>
            <select id="ssh-select" multiple>
              <option value="">Loading SSH keys...</option>
            </select>
            <small class="muted">
              Tekan CTRL/CMD untuk multi-select. SSH key diambil dari
              <code>/v2/account/keys</code>.
            </small>
          </div>

          <!-- MODE PASSWORD ROOT -->
          <div class="field-group" id="auth-password" style="display:none">
            <label for="root-password">
              Password untuk user <code>root</code>
            </label>
            <input type="password" id="root-password" placeholder="minimal 8 karakter">
            <small class="muted">
              Password akan diset via <code>user_data</code> (cloud-config).<br>
              Jangan gunakan password lemah kalau droplet menghadap publik.
            </small>
          </div>

          <div class="field-group">
            <label for="tags">Tags (optional)</label>
            <input id="tags" type="text" placeholder="misal: panel,sandeva">
          </div>
        </div>
      </div>

      <button id="create-btn" class="primary-btn">üöÄ Create Droplet</button>
      <p id="create-status" class="status"></p>
    </div>
  </section>

  <!-- TAB: DROPLETS -->
  <section id="tab-droplets" class="tab">
    <div class="card">
      <div class="card-header-row">
        <h2>Daftar Droplet</h2>
        <button id="reload-droplets" class="ghost-btn">üîÑ Reload</button>
      </div>

      <div id="droplets-empty" class="muted">
        Tidak ada droplet / belum di-load.
      </div>

      <div class="droplet-layout">
        <!-- LIST DROPLET -->
        <div class="droplet-list-wrap">
          <table class="droplet-table" id="droplet-table">
            <thead>
            <tr>
              <th>ID</th>
              <th>Nama</th>
              <th>Region</th>
              <th>Status</th>
              <th>IP</th>
            </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <!-- DETAIL DROPLET -->
        <div class="droplet-detail">
          <h3>Detail & Actions</h3>
          <div id="droplet-detail-content" class="muted">
            Pilih droplet dari tabel untuk melihat detail dan action.
          </div>
        </div>
      </div>

      <p id="droplet-status" class="status"></p>
    </div>
  </section>

  <!-- TAB: ACCOUNT & EXPLORER -->
  <section id="tab-account" class="tab">
    <div class="card">
      <h2>Account Detail</h2>
      <pre id="account-raw" class="code-box">Belum di-load...</pre>
    </div>

    <div class="card">
      <h2>Mini API Explorer</h2>
      <p class="hint">
        Untuk advanced user: langsung hit endpoint DigitalOcean API v2.
      </p>

      <div class="grid-2">
        <div>
          <label for="explorer-method">Method</label>
          <select id="explorer-method">
            <option>GET</option>
            <option>POST</option>
            <option>DELETE</option>
          </select>

          <label for="explorer-path">Path</label>
          <input id="explorer-path" type="text" value="/account"
                 placeholder="/droplets, /regions, dst...">
        </div>
        <div>
          <label for="explorer-body">Body JSON (opsional)</label>
          <textarea id="explorer-body" rows="4"
                    placeholder='{"name": "contoh"}'></textarea>
        </div>
      </div>

      <button id="explorer-send" class="primary-btn">‚ö° Kirim Request</button>
      <pre id="explorer-result" class="code-box"></pre>
    </div>
  </section>

  <footer class="footer">
    <span>Made with ‚ù§Ô∏è + Anime 3D ¬∑ Frontend only (gunakan dengan token sendiri)</span>
  </footer>
</div>

<script src="sandeva.js"></script>
</body>
</html>
